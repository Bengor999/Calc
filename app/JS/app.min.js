"use strict";let inputLeft=document.querySelector(".text_area .left_text_area"),inputRight=document.querySelector(".text_area .right_text_area"),sign=document.querySelector(".text_area .center_text_area"),showErrorLeft=document.querySelector(".text_area .error_left_text_area"),showErrorRight=document.querySelector(".text_area .error_right_text_area"),arrowButton=document.querySelectorAll(".number_tabl button");for(let t=0;t<arrowButton.length;t++){arrowButton[t].addEventListener("click",onButtonNamberClick)}function onButtonNamberClick(t){let e=t.currentTarget.innerHTML;if(e>-1||"."===e||"K"===e){let t=document.querySelector(".text_area .action");t.value=t.value+e,InputError()}else"/"===e||"*"===e||"+"===e||"-"===e?(sign.innerHTML=e,actualFuncAction()):"="===e?onButtonEqualsClick():"Очистить"===e&&onButtonClearClick()}function oninputLeftClick(){inputRight.classList.remove("action"),inputLeft.classList.add("action")}function oninputRightClick(){inputLeft.classList.remove("action"),inputRight.classList.add("action")}function onButtonEqualsClick(){if(!0!==finishInputError())return!1;inputLeft.classList.remove("error"),inputRight.classList.remove("error"),signArrowResult(),"/"===sign.innerHTML?(inputLeft.value=+inputLeft.value/+inputRight.value,inputRight.value=""):"*"===sign.innerHTML?(inputLeft.value=+inputLeft.value*+inputRight.value,inputRight.value=""):"-"===sign.innerHTML?(inputLeft.value=+inputLeft.value-+inputRight.value,inputRight.value=""):"+"===sign.innerHTML&&(inputLeft.value=+inputLeft.value+ +inputRight.value,inputRight.value=""),actualFuncAction(),signArrowResultEquals(),showResults()}function onButtonClearClick(){inputLeft.classList.remove("error"),inputRight.classList.remove("error"),showErrorLeft.style.display="none",showErrorRight.style.display="none",inputRight.classList.remove("action"),inputLeft.classList.add("action"),inputLeft.value="",inputRight.value="",sign.innerHTML=""}function actualFuncAction(){inputLeft.classList.remove("action"),inputRight.classList.add("action")}inputLeft.addEventListener("click",oninputLeftClick),inputRight.addEventListener("click",oninputRightClick);const validOne=/^[1-9]|^(0\.)|^[-]{1}/g,validTwo=/^[-]|^\d{0,}\.{0,1}\d{0,}$/g;function InputError(){let t=document.querySelector(".text_area .action");0===t.value.length||t.value.match(validOne)&&t.value.match(validTwo)?t.classList.remove("error"):t.classList.add("error")}function finishInputError(){return showErrorLeft.innerHTML="",showErrorLeft.style.display="none",showErrorRight.innerHTML="",showErrorRight.style.display="none",!!(errorSpaseLeft()&&errorRegularLeft()&&errorSpaseRight()&&errorZeroRight()&&!0===errorRegularRight())}function errorSpaseLeft(){return 0===inputLeft.value.length?(showErrorLeft.innerHTML="Заполни поле",showErrorLeft.style.display="block",!1):(showErrorLeft.innerHTML="",showErrorLeft.style.display="none",!0)}function errorSpaseRight(){return 0===inputRight.value.length?(showErrorRight.innerHTML="Заполни поле",showErrorRight.style.display="block",!1):(showErrorRight.innerHTML="",showErrorRight.style.display="none",!0)}function errorZeroRight(){return"/"===document.querySelector(".text_area .center_text_area").innerHTML&&0==inputRight.value?(showErrorRight.innerHTML="На ноль делить непродуктивно",showErrorRight.style.display="block",!1):(showErrorRight.innerHTML="",showErrorRight.style.display="none",!0)}function errorRegularLeft(){return inputLeft.value.match(validOne)&&inputLeft.value.match(validTwo)?(showErrorLeft.innerHTML="",showErrorLeft.style.display="none",!0):(showErrorLeft.innerHTML="Только цифры и одна точка. Ноль в начале нежелателен.",showErrorLeft.style.display="block",!1)}function errorRegularRight(){return inputRight.value.match(validOne)&&inputRight.value.match(validTwo)?(showErrorRight.innerHTML="",showErrorRight.style.display="none",!0):(showErrorRight.innerHTML="Только цифры и одна точка. Ноль в начале нежелателен.",showErrorRight.style.display="block",!1)}inputLeft.oninput=function(){InputError()},inputRight.oninput=function(){InputError()};let arrowResult=[];function signArrowResult(){arrowResult.push(inputLeft.value),arrowResult.push(sign.innerHTML),arrowResult.push(inputRight.value)}function signArrowResultEquals(){arrowResult.push(inputLeft.value),console.log(arrowResult)}function showResults(){let t=document.querySelector(".base .show_results"),e=document.createElement("div");e.innerHTML=arrowResult[arrowResult.length-4]+" "+arrowResult[arrowResult.length-3]+" "+arrowResult[arrowResult.length-2]+" = "+arrowResult[arrowResult.length-1],t.prepend(e)}